1
00:00:00,480 --> 00:00:03,570
In this lesson let us set up a database connection.

2
00:00:03,570 --> 00:00:06,930
The first thing we're going to do is install our package which we are going to use to connect to our

3
00:00:06,930 --> 00:00:08,850
database which is Mongoose

4
00:00:14,110 --> 00:00:17,980
once that's done installing in our index suggests why we can import Mongoose

5
00:00:21,800 --> 00:00:28,580
and using Mongoose we can create a database connection language that connect and what Mongoose expects

6
00:00:28,580 --> 00:00:35,450
to receive is the database connections train and you need to have Mongo to be running locally.

7
00:00:35,450 --> 00:00:39,100
This is a sample string for your development environment right now.

8
00:00:39,100 --> 00:00:45,170
If we launch our application with no crashes it means that Mongoose was able to connect to a database

9
00:00:45,530 --> 00:00:49,200
lets one young Dev or NPM on Dev to check this out.

10
00:00:51,730 --> 00:00:56,960
And we have servers that that successfully we need to use the new parser to get rid of that warning.

11
00:00:56,990 --> 00:01:03,590
So I'm going to pass in use near you are all parts are true and you can see that that one in is normal

12
00:01:04,220 --> 00:01:09,740
in different environments like in production it becomes very insecure to expose your database connection

13
00:01:09,740 --> 00:01:10,910
string like this.

14
00:01:10,910 --> 00:01:15,770
So the skill we are the most secure way to deal with this is to use environment variables.

15
00:01:15,830 --> 00:01:22,680
For this we are going to be using a package called EMV.

16
00:01:22,800 --> 00:01:27,690
This is going to give us the possibility of defining all of our involvement variables in an environment

17
00:01:27,690 --> 00:01:31,210
file and depending on the environment where we are.

18
00:01:31,410 --> 00:01:34,920
These credentials are going to change at the roots of my projects.

19
00:01:34,920 --> 00:01:38,320
I'm going to quit the EMV file here.

20
00:01:38,340 --> 00:01:46,030
I'm going to define database your URL and I'm going to move what I have here into the that and we file

21
00:01:47,430 --> 00:01:51,000
the next one I'm going to do some winter import dot in the

22
00:01:55,440 --> 00:02:04,680
from the India and I need to call the EMV the config so that the envy the package is going to read all

23
00:02:04,680 --> 00:02:12,130
of the values from the EMV file and it's going to populate process not envy in the application.

24
00:02:12,130 --> 00:02:18,830
So once that package is ready we can one process that EMV dot database on that score.

25
00:02:19,020 --> 00:02:23,740
You are and this is automatically going to be the you are all of our database to make sure everything

26
00:02:23,740 --> 00:02:31,910
is still fine because one NPM one def to see if it starts successfully and it successfully starts it

27
00:02:31,910 --> 00:02:37,160
becomes a little difficult to manage your application when the environment tables are accessed directly

28
00:02:37,160 --> 00:02:43,190
from process that in the what we are going to do is we are going to create a config for the can here.

29
00:02:43,200 --> 00:02:46,350
I'm going to have an index or just file.

30
00:02:46,660 --> 00:02:54,610
This is going to export an object and all of our conjugations are going to be here which assess the

31
00:02:54,610 --> 00:02:55,210
process.

32
00:02:55,240 --> 00:03:07,050
Ian Lee for example our database your eye is going to be processed in the database your AI or.

33
00:03:07,450 --> 00:03:09,720
Then I'm going to pass in a default.

34
00:03:09,820 --> 00:03:15,420
I will just get the one for my involvement and this is a truly data issue.

35
00:03:15,450 --> 00:03:23,630
Oh now in my server I can get rid of this dog in V and actually put it in my configuration file so that

36
00:03:23,660 --> 00:03:28,840
in the config is going to be initialized in my congregation file since that's where we are defining

37
00:03:28,860 --> 00:03:30,410
AI investment vehicles.

38
00:03:30,410 --> 00:03:44,970
Now in my server I can import config from config and replace this week config the database you are this

39
00:03:44,970 --> 00:03:45,530
way.

40
00:03:45,540 --> 00:03:51,440
Even if a user does not define a database you are in the involvement label.

41
00:03:51,480 --> 00:03:55,340
The config is automatically going to use the default which we've defined right here.

42
00:03:55,570 --> 00:04:01,980
And this is a more reasonable approach to have for your applications now to make sure everything is

43
00:04:01,980 --> 00:04:03,400
running correctly.

44
00:04:03,510 --> 00:04:07,200
We want NPM on death and everything so start successfully.

45
00:04:07,200 --> 00:04:08,640
Which means our application is fine.
